; Охотничье ружье ТОЗ-34
;--------------------------------------
[wpn_toz34]:identity_immunities,base_wpn_zoom
GroupControlSection	= spawn_group
discovery_dependency = 
$spawn                   = "weapons\toz-34"					; option for Level Editor
$npc			 = on				; option for Level Editor
$prefetch 		 = 8
scheduled                = off              ; option for ALife Simulator
cform                    = skeleton
class                    = WP_BM16
min_radius               = 10
max_radius               = 70
description				= enc_weapons1_wpn-toz34

ef_main_weapon_type			= 1
ef_weapon_type		= 7 ;5

;-----------------------------------------------------------------------------------
holder_range_modifier	= 1.0
holder_fov_modifier		= 1.0
;-----------------------------------------------------------------------------------

cost					 = 2000
weapon_class			 = shotgun

ammo_elapsed			= 2
ammo_mag_size			= 2
ammo_class		 = ammo_12x70_kart, ammo_12x76_zhekan

hand_dependence 	= 1
single_handed		= 0

slot 			= 2		; // secondary
animation_slot		= 3		; type of the animation that will be used

inv_name		= wpn-toz34
inv_name_short	        = wpn-toz34
inv_weight		= 3.1

inv_grid_width		= 6
inv_grid_height		= 2
inv_grid_x		= 26
inv_grid_y		= 9

kill_msg_x		= 127
kill_msg_y		= 82
kill_msg_width		= 97
kill_msg_height		= 23

;-----------------------------------------------------------------------------------
;базовая дисперсия
fire_dispersion_base	= 0.25  	;угол (в градусах) базовой дисперсии оружия (оружия зажатого в тисках)
control_inertion_factor	= 1.3f
disp_rate 		= 1.8

;отдача
cam_relax_speed         = 7.0	;скорость возврата в исходное положение
cam_relax_speed_ai        	= 120.75
cam_dispersion          = 3.0	;увеличения угла (в градусах) с каждым выстрелом
cam_dispersion_inc	= 3.0	;увеличениe cam_dispersion с каждым выстрелом
cam_dispertion_frac	= 1.0	;ствол будет подыматься на cam_dispersion*cam_dispertion_frac +- cam_dispersion*(1-cam_dispertion_frac)
cam_max_angle		= 8.0	;максимальный угол отдачи
cam_max_angle_horz	= 10.0	;(degree) maximum shot horizontal degree 
cam_step_angle_horz	= 2.5	;(degree) size of step camera moved in horizontal position while shooting

fire_dispersion_condition_factor = 7	;увеличение дисперсии в процентах при максимальном износе 
misfire_probability 	= 0.005	;вероятность осечки при максимальном износе 
misfire_condition_k	= 0.05
condition_shot_dec 	= 0.0001 ;увеличение износа при каждом выстреле
;-----------------------------------------------------------------------------------

direction               = 0, 0, 1
shell_point				= 0.0, 0.183, 0.07
fire_point              = 0.0, 0.183, 0.730
fire_point2             = 0.0, 0.160, 0.730

flame_particles		= weapons\generic_weapon05
smoke_particles		   = _ecp\weapon_shotgun
rpm_empty_click 	= 100

PDM_disp_base 			= 2.2
PDM_disp_vel_factor 		= 2.0
PDM_disp_accel_factor 		= 2.0
PDM_crouch	 		= 1.0
PDM_crouch_no_acc 		= 1.0

; ttc
hit_power        		= 0.93
hit_impulse      		= 30
hit_type 			= fire_wound
hit_rate			= 2.0

fire_distance            	= 100
bullet_speed			= 350	;начальная скорость пули
rpm                      	= 150
; end ttc

hud                      	= wpn_shotgun_hud
normal  	                = 0, 1, 0
position                 	= -0.026, -0.132, 0.06 
orientation              	= 0, 30, 0 ;0, 33, 0      ;значение устанавливается в градусах

;--STRAP PARAMETERS-----------------------------------------------------------------
;под мишкой
strap_position         		= -0.26,-0.11,0.15			; position (offset) and orientation of the weapon when it is strapped
strap_orientation      		= -15,-9,110				; (3rd person view in degrees)
strap_bone0					= bip01_spine2
strap_bone1		= bip01_spine1

visual                  = weapons\toz34\wpn_toz34_ext.ogf

light_color		= 0.6,0.5,0.3
light_range		= 6.0
light_var_color		= 0.05
light_var_range		= 0.5
light_time 		= 0.2

;addons
scope_status		= 0
silencer_status		= 0
grenade_launcher_status	= 0

zoom_enabled		= true

;------------------------------ O.G.S.E. sound remake -----------------------
;звуки
snd_draw			= weapons\toz34\toz34_draw
snd_holster			= weapons\generic_shotgun_holster
snd_shoot			= weapons\toz34\toz34_shoot  
snd_empty			= weapons\toz34\toz34_empty
snd_reload			= weapons\toz34\toz34_reload
snd_shoot_duplet	= weapons\toz34\toz34_shoot_both

snd_shoot_1			= weapons\toz34\toz34_shoot
snd_reload_1		= weapons\toz34\toz34_reload_one		;reload left
;-----------------------------------------------------------------------------

;-----------------------------------------------------------------------------
;-- HUD DESCRIPTION
;-----------------------------------------------------------------------------
[wpn_shotgun_hud]

allow_inertion			= true

shell_point		 	= 0.0, 0.0, 0.0
fire_point 			= 0.0, 0.0, 0.06
fire_point2 		= 0.0, 0.0, 0.06
fire_bone 			= wpn_barrel_0

orientation			= 3, -0.25, 0 ;0, 0, 0
position			= 0, 0, 0
visual 				= weapons\toz34\wpn_toz34_hud.ogf

anim_idle			= idle
anim_reload			= reload
anim_draw			= draw
anim_holster		= holster
anim_shoot			= shoot1
anim_shoot_both 	= shoot1
anim_idle_aim		= idle_aim
anim_idle_sprint	= idle_sprint

anim_reload_1		= reload_one
anim_shoot_1		= shoot1

anim_idle_1			= idle
anim_idle_2			= idle

anim_zoomed_idle_1	= idle_aim
anim_zoomedidle_2	= idle_aim

;-----------------------------------------------------------------------------
;смещения HUD для режима приближения
zoom_offset			= -0.126600, 0.049000, 0.04
zoom_rotate_x		= 0.039700
zoom_rotate_y		= 0.068600

;-----------------------------------------------------------------------------
;прячем перекрестие прицела в зуме
zoom_hide_crosshair		= true

;время поворота HUD (сек)
zoom_rotate_time		= 0.5
rotate_time			= 0.5

[wpn_toz34_repair]
tech_complication = 100
repair_compatibility = toz34

;--------------------------------------
; Обрез ТОЗ34
;--------------------------------------
[wpn_toz34_short]:wpn_toz34
$spawn                   	= "weapons\toz-34_short"
holder_range_modifier	= 0.7
holder_fov_modifier		= 1.5
cost				= 1800	
min_radius          = 0
max_radius          = 20
fire_dispersion_base		= 0.44  	;угол (в градусах) базовой дисперсии оружия (оружия зажатого в тисках)
fire_dispersion_condition_factor = 7.5
cam_relax_speed     = 8.0
cam_max_angle_horz	= 12.0
control_inertion_factor		= 1.13f
description			= enc_weapons1_wpn-toz34_short
slot 				= 1
inv_name			= wpn-toz34_short
inv_name_short		= wpn-toz34_short
fire_point          = 0.0, 0.183, 0.45
fire_point2         = 0.0, 0.160, 0.45
inv_weight			= 2.0
inv_grid_width		= 3
inv_grid_height		= 1
inv_grid_x			= 6
inv_grid_y			= 0

hit_power        	= 0.75
hit_impulse      	= 20
fire_distance       = 50
bullet_speed		= 300	;начальная скорость пули
zoom_enabled		= false

PDM_disp_base 		= 2.4

visual              = weapons\toz34\wpn_toz34_short.ogf
hud                 = wpn_toz34_short_hud

snd_reload			= weapons\toz34\toz34_short_reload
snd_reload_1		= weapons\toz34\toz34_short_reload_one

[wpn_toz34_short_hud]:wpn_shotgun_hud
fire_point          = -0.15, -0.01, 0.06
fire_point2         = -0.15, -0.01, 0.06
visual              = weapons\toz34\wpn_toz34_short_hud.ogf
zoom_offset			= -0.1266,-0.0,-0.14
zoom_rotate_x		= -0.03

zoom_rotate_time	= 0.2
rotate_time			= 0.2

[wpn_toz34_short_repair]
tech_complication   = 100
repair_compatibility = toz34

;--------------------------------------
; Ружьё охотника
;--------------------------------------
[hunters_toz]:wpn_toz34
$spawn          = "weapons\hunters_toz"
inv_grid_x		= 26
inv_grid_y		= 7

inv_name		= wpn_toz34_m1
inv_name_short	= wpn_toz34_m1
description		= enc_weapons1_wpn_toz34_m1

fire_dispersion_base	= 0.2
control_inertion_factor	= 1.4f
disp_rate 		= 1.7
hit_power        		= 1.15

visual          = weapons\toz34\wpn_toz34_m1.ogf

scope_status	= 1
scope_texture	= wpn\scopes\scope_var_4
scope_zoom_factor	= 3.3 ; 28
ironsight_zoom_factor		= 1.0


hud				= hunters_toz_hud

[hunters_toz_hud]:wpn_shotgun_hud
visual			= weapons\toz34\wpn_toz34_m1_hud.ogf

[hunters_toz_repair]
tech_complication = 1000
repair_compatibility = hunters_toz